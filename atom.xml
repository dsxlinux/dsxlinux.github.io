<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tech2k18</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://dsxlinux.github.io/"/>
  <updated>2018-06-08T18:06:17.616Z</updated>
  <id>https://dsxlinux.github.io/</id>
  
  <author>
    <name>Dong Shouxin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux文本文件处理(1)</title>
    <link href="https://dsxlinux.github.io/2018/06/08/linux-text/"/>
    <id>https://dsxlinux.github.io/2018/06/08/linux-text/</id>
    <published>2018-06-08T09:00:00.000Z</published>
    <updated>2018-06-08T18:06:17.616Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍Linux下文本文件的查看等操作相关的命令。<br><a id="more"></a></p><h4 id="1-文本文件查看命令"><a href="#1-文本文件查看命令" class="headerlink" title="1. 文本文件查看命令"></a>1. 文本文件查看命令</h4><p>cat命令                            查看文件内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat 1.txt查看文本文件内容</span><br><span class="line">cat -n 1.txt显示行号，空行也算一行</span><br><span class="line">cat -nb 1.txt显示行号，空行忽略</span><br></pre></td></tr></table></figure></p><p>head命令                        显示文件前十行的内容(默认)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">head 1.txt</span><br><span class="line">head -n 20 1.txt显示文件前20行的内容</span><br><span class="line">head -20 1.txt显示文件前20行的内容</span><br></pre></td></tr></table></figure></p><p>tail命令                        查看文件最后十行的内容(默认)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tail -n 5 1.txt 最后5行</span><br><span class="line">tail -5 1.txt最后5行</span><br><span class="line">tail -f 1.txt动态查看文件内容</span><br><span class="line">tailf1.txt动态查看文件内容</span><br></pre></td></tr></table></figure></p><p>more命令                        分页显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more 1.txt</span><br></pre></td></tr></table></figure></p><p>less命令                        分页显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less 1.txt</span><br></pre></td></tr></table></figure></p><p>tac命令                            文件内容的输出上下反，不影响源文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tac 1.txttac 反过来 cat</span><br></pre></td></tr></table></figure></p><p>rev命令                            左右反，不影响源文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rev 1.txt</span><br></pre></td></tr></table></figure></p><p>tee命令                            将数据重定向到文件和标准输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls | tee out.txt</span><br><span class="line">ls | tee out.txt | cat -n</span><br></pre></td></tr></table></figure></p><h4 id="2-其他命令"><a href="#2-其他命令" class="headerlink" title="2. 其他命令"></a>2. 其他命令</h4><p>wc命令                            字符统计<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | wc -l</span><br><span class="line">cat /etc/passwd | wc -c</span><br><span class="line">cat /etc/passwd | wc -w</span><br></pre></td></tr></table></figure></p><p>cut命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">who|cut -b 3-5</span><br><span class="line">cut -f2 -d&quot;;&quot; test2.txt-d分隔符是&quot;:&quot;，-f是列</span><br><span class="line">cut -f2 --complement test.txt --complement 选项提取指定字段之外的列</span><br></pre></td></tr></table></figure></p><p>tr命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;HELLO WORLD&quot; | tr &apos;A-Z&apos; &apos;a-z&apos;将输入字符由大写转换为小写</span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">echo &quot;hello 123 world 456&quot; | tr -d &apos;0-9&apos;使用tr删除字符</span><br><span class="line">hello  world </span><br><span class="line"></span><br><span class="line">cat text | tr &apos;\t&apos; &apos; &apos;将制表符转换为空格</span><br></pre></td></tr></table></figure></p><p>sort命令                                    排序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -t &apos; &apos; -k 1.2 facebook.txt</span><br></pre></td></tr></table></figure></p><p>uniq命令                                    忽略文件中的重复行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sort file.txt | uniq</span><br><span class="line">sort -u file.txt</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍Linux下文本文件的查看等操作相关的命令。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dsxlinux.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dsxlinux.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>yum命令详解</title>
    <link href="https://dsxlinux.github.io/2018/06/08/linux-yum/"/>
    <id>https://dsxlinux.github.io/2018/06/08/linux-yum/</id>
    <published>2018-06-08T05:50:20.000Z</published>
    <updated>2018-06-08T18:06:17.616Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍centos系统程序包管理软件Yum命令的详细使用方法。<br><a id="more"></a><br>Yum软件包管理方式，在Red Hat,Fedora,CentOS等发行版本上运用广泛。</p><h4 id="1-Yum的工作机制"><a href="#1-Yum的工作机制" class="headerlink" title="1. Yum的工作机制"></a>1. Yum的工作机制</h4><p>将诸多程序的包信息和头文件提取出来，放到一个集中的地方，记录其依赖关系。在下次安装的时候，均于存储的库文件查找相应的对应关系，再安装所依赖的软件程序。</p><h4 id="2-Yum配置文件"><a href="#2-Yum配置文件" class="headerlink" title="2. Yum配置文件"></a>2. Yum配置文件</h4><p>主配置文件：/etc/yum.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[main]：主名称，固定名称</span><br><span class="line">cachedir=/var/cache/yum/$basearch/$releasever       缓存目录</span><br><span class="line">keepcache=0                                         是否保存缓存</span><br><span class="line">debuglevel=2                                        调试级别</span><br><span class="line">exactarch=1                                         是否做精确严格的平台匹配</span><br><span class="line">gpgcheck=1                                          检查来源法性和完整性</span><br><span class="line">plugins=1                                           是否支持插件</span><br><span class="line">installonly_limit=4                                 同时安装几个</span><br></pre></td></tr></table></figure></p><p>子配置文件：/etc/yum.repos.d/*.repo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[repository ID] ：ID名称，即仓库名称，不可与其他ID重命</span><br><span class="line">name=                     (对ID名称的说明)</span><br><span class="line">baserul=URL1</span><br><span class="line">URL2</span><br><span class="line">URL3                    （如果同一个源有多个镜像，可以在此我写几个，但每个URL需换行）</span><br><span class="line">mirrorlist=              (有一台服务器在网络上，保存了多个baseurl，如果使用这项，就不使用baseurl项）</span><br><span class="line">enabled=&#123;1|0&#125;</span><br><span class="line">gpgcheck=&#123;1|0&#125;</span><br><span class="line">repo_gpgcheck=           (检查仓库的元数据的签名信息)</span><br><span class="line">gpgkey=URL               (gpg密钥文件）</span><br><span class="line">enablegroups= &#123;1|0&#125;&#125;    (是否在此仓库中上使用组来指管理程序包)</span><br><span class="line">failovermethod= roundrobin|priority (对多个baseurl做优先级的，roundrobin为轮循，priority为优先级，默认为轮循，意为随机）</span><br><span class="line">keepalive=              (如果对方是http 1.0是否要保持连接)</span><br><span class="line">username=               (yum的验证用户)</span><br><span class="line">password=               (yum的验证用户密码)</span><br><span class="line">cost=                   (默认baseurl都为1000)</span><br></pre></td></tr></table></figure></p><p>Yum仓库的配置文件示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[epel]</span><br><span class="line">name=Extra Packages for Enterprise Linux 6 - $basearch</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/6/$basearch</span><br><span class="line">mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&amp;arch=$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6</span><br></pre></td></tr></table></figure></p><p>其中使用了变量<br>$releasever:当前os的发行版本的主版本号<br>$arch:平台<br>$basearch:基础平台</p><h4 id="3-常用的国内Yum源"><a href="#3-常用的国内Yum源" class="headerlink" title="3. 常用的国内Yum源"></a>3. 常用的国内Yum源</h4><ul><li>中科大<br><a href="http://mirrors.ustc.edu.cn/centos/CentOS-Base.5.mirrors.repo" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/centos/CentOS-Base.5.mirrors.repo</a><br><a href="http://mirrors.ustc.edu.cn/centos/6/os/x86_64/" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/centos/6/os/x86_64/</a></li><li>搜狐<br><a href="http://mirrors.sohu.com/help/CentOS-Base-sohu.repo" target="_blank" rel="noopener">http://mirrors.sohu.com/help/CentOS-Base-sohu.repo</a><br><a href="http://mirrors.sohu.com/centos/6/os/x86_64/" target="_blank" rel="noopener">http://mirrors.sohu.com/centos/6/os/x86_64/</a></li><li>REMI<br><a href="http://rpms.remirepo.net/" target="_blank" rel="noopener">http://rpms.remirepo.net/</a>                REMI网站<br><a href="https://mirrors.tuna.tsinghua.edu.cn/remi/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/remi/</a>             REMI中国镜像<br><a href="http://rpms.remirepo.net/enterprise/" target="_blank" rel="noopener">http://rpms.remirepo.net/enterprise/</a><br><a href="http://rpms.remirepo.net/enterprise/remi-release-6.rpm" target="_blank" rel="noopener">http://rpms.remirepo.net/enterprise/remi-release-6.rpm</a></li><li>163源<br><a href="http://mirrors.163.com/centos/" target="_blank" rel="noopener">http://mirrors.163.com/centos/</a></li><li>阿里云<br><a href="https://opsx.alibaba.com/mirror" target="_blank" rel="noopener">https://opsx.alibaba.com/mirror</a></li><li>中国科技大学<br><a href="http://centos.ustc.edu.cn/centos/" target="_blank" rel="noopener">http://centos.ustc.edu.cn/centos/</a></li><li>rpm包常用下载地址<br><a href="https://centos.pkgs.org/" target="_blank" rel="noopener">https://centos.pkgs.org/</a><br><a href="http://rpmfind.net/" target="_blank" rel="noopener">http://rpmfind.net/</a><br><a href="http://dl.fedoraproject.org/pub/epel/" target="_blank" rel="noopener">http://dl.fedoraproject.org/pub/epel/</a></li></ul><h4 id="4-制作Yum源"><a href="#4-制作Yum源" class="headerlink" title="4. 制作Yum源"></a>4. 制作Yum源</h4><p>上面介绍的都是网络上做好的yum源，我们也可以自己来制作yum源。<br></p><ul><li><p>本地光盘源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mkdir /media/cdrom</span><br><span class="line">mount /dev/cdrom /media/cdrom/</span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line">vim cdrom.repo</span><br><span class="line">[cdrom]</span><br><span class="line">name=cdrom repolist</span><br><span class="line">baseurl=file:///media/cdrom/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure></li><li><p>文件夹源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mkdir /yum</span><br><span class="line">yum -y install createrepo</span><br><span class="line">mv *.rpm /yum</span><br><span class="line">createrepo /yum</span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line">vim cdrom.repo</span><br><span class="line">[local]</span><br><span class="line">name=local directory repolist</span><br><span class="line">baseurl=file:///media/cdrom/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure></li><li><p>网络yum源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd -y</span><br><span class="line">ln -s /yum /var/www/html/</span><br><span class="line">service httpd start</span><br></pre></td></tr></table></figure></li></ul><p>添加新的yum源：<br>yum install yum-utils -y<br>yum-config-manager –add-repo=file:///yum/</p><h4 id="5-yum命令使用"><a href="#5-yum命令使用" class="headerlink" title="5. yum命令使用"></a>5. yum命令使用</h4><p>安装软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install packagename</span><br></pre></td></tr></table></figure></p><p>升级软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update packagename</span><br></pre></td></tr></table></figure></p><p>卸载软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove packagename</span><br></pre></td></tr></table></figure></p><p>搜索已安装软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search keyword</span><br></pre></td></tr></table></figure></p><p>查看软件包额外信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum info packagename</span><br></pre></td></tr></table></figure></p><p>查看可安装的软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list | less</span><br></pre></td></tr></table></figure></p><p>列出已安装软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | less</span><br></pre></td></tr></table></figure></p><p>显示仓库的所有程序包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list</span><br></pre></td></tr></table></figure></p><p>查看特定文件属于哪个软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum provides /etc/sysconfig/nfs</span><br></pre></td></tr></table></figure></p><p>列出可获得的软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum grouplist</span><br></pre></td></tr></table></figure></p><p>安装某个特定软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall</span><br></pre></td></tr></table></figure></p><p>升级软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupupdate &apos;Graphical Internet&apos;</span><br></pre></td></tr></table></figure></p><p>卸载软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupremove &apos;DNS Name Server&apos;</span><br></pre></td></tr></table></figure></p><p>列出当前yum软件源<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure></p><p>查看yum安装的历史<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum history</span><br><span class="line">yum history info 3</span><br><span class="line">yum history undo 4</span><br></pre></td></tr></table></figure></p><p>安装及升级本地程序包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall rpmfile1</span><br><span class="line">yum localupdate rpmfile1</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍centos系统程序包管理软件Yum命令的详细使用方法。&lt;br&gt;
    
    </summary>
    
      <category term="linux" scheme="https://dsxlinux.github.io/categories/linux/"/>
    
    
      <category term="linux" scheme="https://dsxlinux.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Centos下Yum安装PHP5.5、PHP5.6、PHP7.0</title>
    <link href="https://dsxlinux.github.io/2018/06/08/linux-php-version/"/>
    <id>https://dsxlinux.github.io/2018/06/08/linux-php-version/</id>
    <published>2018-06-08T02:00:00.000Z</published>
    <updated>2018-06-08T18:06:17.616Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍centos系统上如何升级php的版本。<br><a id="more"></a><br>Centos系统默认有php，但是默认的版本太低，手动安装有一些麻烦，于是使用Yum来安装。</p><h4 id="1-检查当前安装的PHP包"><a href="#1-检查当前安装的PHP包" class="headerlink" title="1. 检查当前安装的PHP包"></a>1. 检查当前安装的PHP包</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep php</span><br></pre></td></tr></table></figure><p>如果已经安装PHP的包，先卸载掉。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove php.x86_64 php-cli.x86_64 php-common.x86_64 php-gd.x86_64 php-ldap.x86_64 php-mbstring.x86_64 php-mcrypt.x86_64 php-mysql.x86_64 php-pdo.x86_64</span><br></pre></td></tr></table></figure></p><h4 id="2-安装新的Yum源"><a href="#2-安装新的Yum源" class="headerlink" title="2. 安装新的Yum源"></a>2. 安装新的Yum源</h4><p>Centos 5.x<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el5/latest.rpm</span><br></pre></td></tr></table></figure></p><p>CentOs 6.x<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm</span><br></pre></td></tr></table></figure></p><p>CentOs 7.x<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm</span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br></pre></td></tr></table></figure></p><h4 id="3-安装PHP"><a href="#3-安装PHP" class="headerlink" title="3. 安装PHP"></a>3. 安装PHP</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php55w.x86_64 php55w-cli.x86_64 php55w-common.x86_64 php55w-gd.x86_64 php55w-ldap.x86_64 php55w-mbstring.x86_64 php55w-mcrypt.x86_64 php55w-mysql.x86_64 php55w-pdo.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php56w.x86_64 php56w-cli.x86_64 php56w-common.x86_64 php56w-gd.x86_64 php56w-ldap.x86_64 php56w-mbstring.x86_64 php56w-mcrypt.x86_64 php56w-mysql.x86_64 php56w-pdo.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php70w.x86_64 php70w-cli.x86_64 php70w-common.x86_64 php70w-gd.x86_64 php70w-ldap.x86_64 php70w-mbstring.x86_64 php70w-mcrypt.x86_64 php70w-mysql.x86_64 php70w-pdo.x86_64</span><br></pre></td></tr></table></figure><h4 id="4-安装PHP-FPM"><a href="#4-安装PHP-FPM" class="headerlink" title="4. 安装PHP FPM"></a>4. 安装PHP FPM</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install php55w-fpm</span><br><span class="line">yum install php56w-fpm</span><br><span class="line">yum install php70w-fpm</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍centos系统上如何升级php的版本。&lt;br&gt;
    
    </summary>
    
      <category term="php" scheme="https://dsxlinux.github.io/categories/php/"/>
    
    
      <category term="php" scheme="https://dsxlinux.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>Linux基础02篇</title>
    <link href="https://dsxlinux.github.io/2018/06/08/linux-basic-02/"/>
    <id>https://dsxlinux.github.io/2018/06/08/linux-basic-02/</id>
    <published>2018-06-07T16:28:44.000Z</published>
    <updated>2018-06-08T18:06:17.616Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍文件系统、文件权限、文件打包和解包及软件包管理方面的命令。<br><a id="more"></a></p><h4 id="1-文件系统"><a href="#1-文件系统" class="headerlink" title="1. 文件系统"></a>1. 文件系统</h4><h5 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h5><p>  磁盘分区主要使用fdisk（sfdisk）命令和parted命令。<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sfdisk  -l</span><br><span class="line">sfdisk  -s</span><br><span class="line">cfdisk  -Ps</span><br><span class="line">fdisk -l</span><br></pre></td></tr></table></figure></p><h5 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h5><p>  mkfs命令<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4</span><br><span class="line">mfks -t ext4 /dev/sda6</span><br></pre></td></tr></table></figure></p><h5 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount命令</span><br><span class="line">mount /dev/sda5 /test</span><br><span class="line">mount /soft/rhel-server-6.3-x86_64-dvd.iso /yum/ -o loop</span><br><span class="line">mount -o remount,noexec /</span><br></pre></td></tr></table></figure><h4 id="查看磁盘"><a href="#查看磁盘" class="headerlink" title="查看磁盘"></a>查看磁盘</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df –h显示已经挂载的分区列表</span><br><span class="line">df –T 显示分区列表的文件系统类型</span><br><span class="line">du -sh dir1 估算目录 &apos;dir1&apos; 已经使用的磁盘空间</span><br><span class="line">fsck 文件系统修复</span><br><span class="line">dumpe2fs /dev/sda1显示磁盘状态</span><br><span class="line">findmnt 查找已经被挂载的文件系统</span><br><span class="line">blkid</span><br></pre></td></tr></table></figure><h4 id="2-文件权限"><a href="#2-文件权限" class="headerlink" title="2. 文件权限"></a>2. 文件权限</h4><h5 id="基本的权限"><a href="#基本的权限" class="headerlink" title="基本的权限"></a>基本的权限</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chmod u+s /bin/file1设置一个二进制文件的SUID 位</span><br><span class="line">chmod u-s /bin/file1禁用一个二进制文件的SUID位</span><br><span class="line">chmod g+s /home/public 设置一个目录的SGID位</span><br><span class="line">chmod g-s /home/public 禁用一个目录的SGID位</span><br><span class="line">chmod o+t /home/public 设置一个文件的STIKY位</span><br><span class="line">chmod o-t /home/public禁用一个目录的STIKY位</span><br><span class="line">chown user1:group1 file1 改变一个文件的所有人和群组属性</span><br><span class="line">chown -R user1 directory1 改变一个目录的所有人属性并同时改变改目录下所有文件的属性</span><br></pre></td></tr></table></figure><h5 id="特殊权限"><a href="#特殊权限" class="headerlink" title="特殊权限"></a>特殊权限</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chattr +a file1 只允许以追加方式读写文件</span><br><span class="line">chattr +c file1 允许这个文件能被内核自动压缩/解压</span><br><span class="line">chattr +d file1 在进行文件系统备份时，dump程序将忽略这个文件</span><br><span class="line">chattr +i file1 设置成不可变的文件，不能被删除、修改、重命名或者链接</span><br><span class="line">chattr +s file1 允许一个文件被安全地删除</span><br><span class="line">chattr +S file1 一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘</span><br><span class="line">chattr +u file1 若文件被删除，系统会允许你在以后恢复这个被删除的文件</span><br><span class="line">lsattr 显示特殊的属性</span><br></pre></td></tr></table></figure><h4 id="3-文件打包和解包"><a href="#3-文件打包和解包" class="headerlink" title="3.文件打包和解包"></a>3.文件打包和解包</h4><p>  示例：<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf archive.tar file1 创建一个非压缩的 tarball</span><br><span class="line">tar -cvf archive.tar file1 file2 dir1 创建一个包含了 &apos;file1&apos;, &apos;file2&apos; 以及 &apos;dir1&apos;的档案文件</span><br><span class="line">tar -tf archive.tar 显示一个包中的内容</span><br><span class="line">tar -xvf archive.tar 释放一个包</span><br><span class="line">tar -xvf archive.tar -C /tmp 将压缩包释放到 /tmp目录下</span><br><span class="line">tar -cvfj archive.tar.bz2 dir1 创建一个bzip2格式的压缩包</span><br><span class="line">tar -xvfj archive.tar.bz2 解压一个bzip2格式的压缩包</span><br><span class="line">tar -cvfz archive.tar.gz dir1 创建一个gzip格式的压缩包</span><br><span class="line">tar -xvfz archive.tar.gz 解压一个gzip格式的压缩包</span><br><span class="line">zip file1.zip file1 创建一个zip格式的压缩包</span><br><span class="line">zip -r file1.zip file1 file2 dir1 将几个文件和目录同时压缩成一个zip格式的压缩包</span><br><span class="line">unzip file1.zip 解压一个zip格式压缩包</span><br></pre></td></tr></table></figure></p><h4 id="4-软件包管理"><a href="#4-软件包管理" class="headerlink" title="4. 软件包管理"></a>4. 软件包管理</h4><h5 id="rpm包管理"><a href="#rpm包管理" class="headerlink" title="rpm包管理"></a>rpm包管理</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh package.rpm 安装一个rpm包</span><br><span class="line">rpm -ivh --nodeeps package.rpm 安装一个rpm包而忽略依赖关系警告</span><br><span class="line">rpm -U package.rpm 更新一个rpm包但不改变其配置文件</span><br><span class="line">rpm -e package_name.rpm 删除一个rpm包</span><br><span class="line">rpm -qa 显示系统中所有已经安装的rpm包</span><br><span class="line">rpm -qa | grep httpd 显示所有名称中包含 &quot;httpd&quot; 字样的rpm包</span><br><span class="line">rpm -qi package_name 获取一个已安装包的特殊信息</span><br><span class="line">rpm -ql package_name 显示一个已经安装的rpm包提供的文件列表</span><br><span class="line">rpm -qc package_name 显示一个已经安装的rpm包提供的配置文件列表</span><br><span class="line">rpm -qf /etc/httpd/conf/httpd.conf 确认所给的文件由哪个rpm包所提供</span><br><span class="line">rpm -qp package.rpm -l 显示由一个尚未安装的rpm包提供的文件列表</span><br><span class="line">rpm --import /media/cdrom/RPM-GPG-KEY 导入公钥数字证书  </span><br><span class="line">rpmbuild --rebuild package_name.src.rpm 从一个rpm源码构建一个 rpm 包</span><br></pre></td></tr></table></figure><h5 id="yum管理工具"><a href="#yum管理工具" class="headerlink" title="yum管理工具"></a>yum管理工具</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install package_name 下载并安装一个rpm包</span><br><span class="line">yum localinstall package_name.rpm 将安装一个rpm包，使用你自己的软件仓库为你解决所有依赖关系</span><br><span class="line">yum update package_name.rpm更新当前系统中所有安装的rpm包</span><br><span class="line">yum update package_name更新一个rpm包</span><br><span class="line">yum remove package_name删除一个rpm包</span><br><span class="line">yum list 列出当前系统中安装的所有包</span><br><span class="line">yum search package_name 在rpm仓库中搜寻软件包</span><br><span class="line">yum clean packages 清理rpm缓存删除下载的包</span><br><span class="line">yum clean all 删除所有缓存的包</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍文件系统、文件权限、文件打包和解包及软件包管理方面的命令。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dsxlinux.github.io/categories/linux-basic/"/>
    
    
      <category term="linux" scheme="https://dsxlinux.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux基础01篇</title>
    <link href="https://dsxlinux.github.io/2018/06/07/linux-basic-01/"/>
    <id>https://dsxlinux.github.io/2018/06/07/linux-basic-01/</id>
    <published>2018-06-06T18:20:14.000Z</published>
    <updated>2018-06-08T18:06:17.615Z</updated>
    
    <content type="html"><![CDATA[<p>从今天开始，陆续介绍Linux常用命令。本文主要介绍文件和目录、文件搜素相关的命令。<br><a id="more"></a></p><h4 id="1-文件和目录"><a href="#1-文件和目录" class="headerlink" title="1. 文件和目录"></a>1. 文件和目录</h4><h5 id="cd命令"><a href="#cd命令" class="headerlink" title="cd命令"></a>cd命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd /进入系统根目录</span><br><span class="line">[root@rzx ~]# cd /</span><br><span class="line">cd /home进入根下的home目录</span><br><span class="line">[root@rzx ~]# cd /home</span><br><span class="line"></span><br><span class="line">cd ..进入当前目录的上一级目录</span><br><span class="line">[root@rzx ~]# cd ..</span><br><span class="line">cd -进入上次所在的目录</span><br><span class="line">[root@rzx ~]# cd -</span><br></pre></td></tr></table></figure><h5 id="ls和pwd命令"><a href="#ls和pwd命令" class="headerlink" title="ls和pwd命令"></a>ls和pwd命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls注意ls的参数</span><br><span class="line">[root@rzx ~]# ls -a -l -d -h</span><br><span class="line"></span><br><span class="line">pwd显示当前工作路径</span><br><span class="line">[root@rzx ~]# pwd</span><br></pre></td></tr></table></figure><h5 id="mkdir命令"><a href="#mkdir命令" class="headerlink" title="mkdir命令"></a>mkdir命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir  /test在根目录下创建test目录</span><br><span class="line">[root@rzx ~]# mkdir /test</span><br><span class="line">mkdir  -p  /a/b/c/d创建多级目录，-p参数是不报错的</span><br><span class="line">[root@rzx ~]# mkdir -p /a/b/c/d</span><br></pre></td></tr></table></figure><h5 id="cp命令"><a href="#cp命令" class="headerlink" title="cp命令"></a>cp命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp file1 file2复制一个文件</span><br><span class="line">[root@rzx ~]# cp a.txt b.txt</span><br><span class="line">cp -ar dir1 dir2 复制一个目录</span><br><span class="line">[root@rzx ~]# cp -ar /abc /test</span><br></pre></td></tr></table></figure><h5 id="mv命令"><a href="#mv命令" class="headerlink" title="mv命令"></a>mv命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mv /opt/a /root/移动文件</span><br><span class="line">[root@rzx ~]# mv /opt/a /root/</span><br><span class="line">mv /opt/a /root/移动文件</span><br><span class="line">[root@rzx ~]# mv /opt/a /root/b</span><br></pre></td></tr></table></figure><h5 id="touch命令"><a href="#touch命令" class="headerlink" title="touch命令"></a>touch命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">touch 1.txt创建文件</span><br><span class="line">[root@rzx ~]# touch 1.txt</span><br><span class="line">[root@rzx ~]# touch &#123;a..z&#125;</span><br><span class="line">[root@rzx ~]# touch &#123;a..z..2&#125;</span><br><span class="line">[root@rzx ~]# touch a&#123;1..5&#125;</span><br><span class="line">[root@rzx ~]# touch a&#123;1..5&#125;.txt</span><br><span class="line">[root@rzx ~]# touch &#123;1..5&#125;&#123;a..f&#125;</span><br></pre></td></tr></table></figure><h5 id="file命令"><a href="#file命令" class="headerlink" title="file命令"></a>file命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">查看文件的类型</span><br><span class="line">[root@rzx ~]# file /dev/sda</span><br></pre></td></tr></table></figure><h5 id="tree命令"><a href="#tree命令" class="headerlink" title="tree命令"></a>tree命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">显示文件和目录由根目录开始的树形结构</span><br><span class="line">[root@rzx ~]# yum install tree</span><br><span class="line">[root@rzx ~]# tree –L 1</span><br></pre></td></tr></table></figure><h4 id="2-文件搜素"><a href="#2-文件搜素" class="headerlink" title="2. 文件搜素"></a>2. 文件搜素</h4><h5 id="whereis和which命令"><a href="#whereis和which命令" class="headerlink" title="whereis和which命令"></a>whereis和which命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查找二进制文件</span><br><span class="line">[root@rzx ~]# which cat</span><br><span class="line">[root@rzx ~]# whereis whereis</span><br></pre></td></tr></table></figure><h5 id="find命令"><a href="#find命令" class="headerlink" title="find命令"></a>find命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">按名称查找</span><br><span class="line">[root@rzx ~]# find /etc/ -name grub.conf</span><br><span class="line">[root@rzx ~]# find /etc/ -name &quot;*.conf&quot;</span><br><span class="line">[root@rzx ~]# find /etc/ -name &quot;.*&quot;</span><br><span class="line">[root@rzx ~]# find /test/  -iname Abc</span><br><span class="line">按类型查找</span><br><span class="line">[root@rzx ~]# find / -type f</span><br><span class="line">[root@rzx ~]# find / -type b</span><br><span class="line">[root@rzx ~]# find / -type s</span><br><span class="line">[root@rzx ~]# find / -type c</span><br><span class="line">[root@rzx ~]# find / -type p</span><br><span class="line">[root@rzx ~]# find / -type d</span><br><span class="line">[root@rzx ~]# find / -type l</span><br><span class="line">按大小查找</span><br><span class="line">[root@rzx ~]# find / -size +500M</span><br><span class="line">[root@rzx ~]# find / -size +1G</span><br><span class="line">[root@rzx ~]# find / -size +50k</span><br><span class="line">[root@rzx ~]# find / -size -1M</span><br><span class="line">[root@rzx ~]# find / -size +3c</span><br><span class="line">[root@rzx ~]# find / -size +80M -size -100M</span><br></pre></td></tr></table></figure><h5 id="locate命令"><a href="#locate命令" class="headerlink" title="locate命令"></a>locate命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">速度快，通过系统带的一个数据库去查找，数据是非实时的。</span><br><span class="line">速度快，通过系统带的一个数据库去查找，数据是非实时的。</span><br><span class="line">系统每天自动更新一次，是通过时间任务执行的：/etc/cron.daily/mlocate.cron</span><br><span class="line">/usr/bin/updatedb主要用来更新数据库，通过crontab自动完成的</span><br><span class="line">/usr/bin/locate             查询文件位置</span><br><span class="line">/etc/updatedb.confupdatedb的配置文件</span><br><span class="line">/var/lib/mlocate/mlocate.db  存放文件信息的文件</span><br><span class="line">[root@rzx ~]# locate passwd</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从今天开始，陆续介绍Linux常用命令。本文主要介绍文件和目录、文件搜素相关的命令。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dsxlinux.github.io/categories/linux-basic/"/>
    
    
      <category term="linux" scheme="https://dsxlinux.github.io/tags/linux/"/>
    
  </entry>
  
</feed>
